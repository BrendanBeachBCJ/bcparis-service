<?xml version="1.0" encoding="UTF-8"?>
<configuration>

<!-- 	<property resource="bcparis-service/bcparis-service.properties" /> -->
	<springProperty scope="context" name="url" source="splunk.http.event.collector.url"/>
	<springProperty scope="context" name="token" source="splunk.http.event.collector.token"/>
	
	<include resource="org/springframework/boot/logging/logback/defaults.xml" />

	<appender name="splunk" class="com.splunk.logging.HttpEventCollectorLogbackAppender">
		<url>${url}</url>
		<token>${token}</token>
		<disableCertificateValidation>true</disableCertificateValidation>	
		<layout class="ch.qos.logback.classic.PatternLayout">
			<!--<pattern>${CONSOLE_LOG_PATTERN}</pattern> -->
			<pattern>%msg</pattern>
		</layout>
	</appender>

    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
        <layout class="ch.qos.logback.classic.PatternLayout">
            <pattern>%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M - %msg%n</pattern>
        </layout>
    </appender>

	<root level="INFO">
		<appender-ref ref="splunk" />
		<appender-ref ref="console"/>
	</root>
	
</configuration>